"use strict";var landing=document.querySelector(".landing"),placeholder=document.querySelector("article.project"),validPaths=["#/neutral","#/multiplex-monograph","#/8-to-create","#/no-strings-attached","#/cahoot","#/menace-ultimate-frisbee","#/louie","#/bikenet","#/bonfires-at-ocretyre"],secondRow=document.querySelectorAll(".project")[3],thirdRow=document.querySelectorAll(".project")[8],secondRowThreshhold=secondRow.scrollHeight-secondRow.clientHeight+10,thirdRowThreshhold=thirdRow.scrollHeight-thirdRow.clientHeight+10,EPPZScrollTo={documentVerticalScrollPosition:function(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0},viewportHeight:function(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight},documentHeight:function(){return void 0!==document.height?document.height:document.body.offsetHeight},documentMaximumScrollPosition:function(){return this.documentHeight()-this.viewportHeight()},elementVerticalClientPositionById:function(e){var t=document.getElementById(e),o=t.getBoundingClientRect();return o.top},scrollVerticalTickToPosition:function(e,t){var o=.2,n=120,i=1250,c=parseFloat(t)-parseFloat(e),l=Math.abs(c)<=.5;return l?void scrollTo(0,t):(e=parseFloat(e)*(1-o)+parseFloat(t)*o,scrollTo(0,Math.round(e)),void setTimeout("EPPZScrollTo.scrollVerticalTickToPosition("+e+", "+t+")",i/n))},scrollVerticalToElementById:function(e,t){var o=document.getElementById(e);if(null==o)return void console.warn("Cannot find element with id '"+e+"'.");var n=this.documentVerticalScrollPosition()+this.elementVerticalClientPositionById(e)-t,i=this.documentVerticalScrollPosition(),c=this.documentMaximumScrollPosition();n>c&&(n=c),this.scrollVerticalTickToPosition(i,n)}},init=function(){var e={};return e.destination=location.hash,e.getMarkup=function(e,t){var o=new XMLHttpRequest;o.onreadystatechange=function(){4==o.readyState&&200==o.status&&t(o.responseText)},o.open("GET",e,!0),o.send(null)},e.goHome=function(){placeholder.classList.remove("active"),placeholder.setAttribute("hidden",""),landing.removeAttribute("hidden",""),document.querySelector("nav .active").classList.remove("active"),document.querySelector("nav .about").classList.add("active")},e.responseHandler=function(e){placeholder.removeAttribute("hidden"),placeholder.classList.contains("active")?(placeholder.classList.remove("active"),window.setTimeout(function(){placeholder.classList.add("active"),placeholder.innerHTML=e},400)):window.setTimeout(function(){placeholder.classList.add("active"),placeholder.innerHTML=e},100),landing.setAttribute("hidden","")},e.isValidPath=function(){var t=e.destination;return t.indexOf("#")<0&&(e.destination="#"+e.destination),validPaths.indexOf(t)>=0},e.route=function(){if(e.destination=location.hash,""!==e.destination){var t=document.querySelector("nav .active");if(e.isValidPath()){var o="markup"+e.destination.split("#")[1]+".html";EPPZScrollTo.scrollVerticalToElementById("nav",100),window.setTimeout(function(){e.getMarkup(o,e.responseHandler),t.classList.remove("active"),document.querySelector(".dropdown-wrapper").classList.add("active")},400)}else window.location.href=window.location.host+window.location.pathname,history.pushState("",document.title,window.location.pathname)}else e.goHome()},e}();!function(){var e=init;e.route(),window.onhashchange=e.route}();